@font-face {
    font-family: 'Poppins';
    src: url('../fonts/Poppins/Poppins-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
}

@font-face {
    font-family: 'Poppins';
    src: url('../fonts/Poppins/Poppins-SemiBold.ttf') format('truetype');
    font-weight: 600;
    font-style: normal;
}

:root {
    --patient-bg: #06402B;
    --patient-content-bg: #F8F6F0;
    --patient-card-bg: #FFFDF8;
    --patient-tab-inactive-bg: #B2D8B6;
    --patient-tab-inactive-text: #06402B;
    --patient-tab-active-bg: #F8F6F0;
    --patient-tab-active-text: #06402B;
    --logout-icon-color: #F8F6F0;
    --table-header-bg: #F8F6F0;
    --table-header-text: #06402B;
    --table-border: #eee;
    --table-hover: #f9f9f9;
    --text-dark: #333;
    --text-light: #a7a7a7;
    --text-link: #5F886E;

    /* Sizing & Spacing */
    --page-padding: 32px;
    --content-padding: 30px;
    --border-radius-main: 20px;
    --border-radius-tabs: 25px;
    --border-radius-controls: 24px;
}

/* --- Icon Definitions --- */
.material-symbols--dashboard-outline-rounded {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2306402B' d='M13 8V4q0-.425.288-.712T14 3h6q.425 0 .713.288T21 4v4q0 .425-.288.713T20 9h-6q-.425 0-.712-.288T13 8M3 12V4q0-.425.288-.712T4 3h6q.425 0 .713.288T11 4v8q0 .425-.288.713T10 13H4q-.425 0-.712-.288T3 12m10 8v-8q0-.425.288-.712T14 11h6q.425 0 .713.288T21 12v8q0 .425-.288.713T20 21h-6q-.425 0-.712-.288T13 20M3 20v-4q0-.425.288-.712T4 15h6q.425 0 .713.288T11 16v4q0 .425-.288.713T10 21H4q-.425 0-.712-.288T3 20m2-9h4V5H5zm10 8h4v-6h-4zm0-12h4V5h-4zM5 19h4v-2H5zm4-2'/%3E%3C/svg%3E");
}

.mingcute--prescription-fill {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z'/%3E%3Cpath fill='%2306402B' d='M8.379 12.5H7.5V17a1.5 1.5 0 0 1-3 0V5A2.5 2.5 0 0 1 7 2.5h4.5a5 5 0 0 1 1.018 9.896L15 14.88l1.94-1.94a1.5 1.5 0 0 1 2.12 2.122L17.122 17l1.94 1.94a1.5 1.5 0 0 1-2.122 2.12L15 19.122l-1.94 1.94a1.5 1.5 0 0 1-2.12-2.122L12.878 17zm-.879-3v-4h4a2 2 0 1 1 0 4z'/%3E%3C/g%3E%3C/svg%3E");
}

.mdi--cart-outline {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2306402B' d='M17 18a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2c0-1.11.89-2 2-2M1 2h3.27l.94 2H20a1 1 0 0 1 1 1c0 .17-.05.34-.12.5l-3.58 6.47c-.34.61-1 1.03-1.75 1.03H8.1l-.9 1.63l-.03.12a.25.25 0 0 0 .25.25H19v2H7a2 2 0 0 1-2-2c0-.35.09-.68.24-.96l1.36-2.45L3 4H1zm6 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2c0-1.11.89-2 2-2m9-7l2.78-5H6.14l2.36 5z'/%3E%3C/svg%3E");
}

.mdi--history {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2306402B' d='M13.5 8H12v5l4.28 2.54l.72-1.21l-3.5-2.08zM13 3a9 9 0 0 0-9 9H1l3.96 4.03L9 12H6a7 7 0 0 1 7-7a7 7 0 0 1 7 7a7 7 0 0 1-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.9 8.9 0 0 0 13 21a9 9 0 0 0 9-9a9 9 0 0 0-9-9'/%3E%3C/svg%3E");
}

.material-symbols--logout-rounded {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23F8F6F0' d='M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h6q.425 0 .713.288T12 4t-.288.713T11 5H5v14h6q.425 0 .713.288T12 20t-.288.713T11 21zm12.175-8H10q-.425 0-.712-.288T9 12t.288-.712T10 11h7.175L15.3 9.125q-.275-.275-.275-.675t.275-.7t.7-.313t.725.288L20.3 11.3q.3.3.3.7t-.3.7l-3.575 3.575q-.3.3-.712.288t-.713-.313q-.275-.3-.262-.712t.287-.688z'/%3E%3C/svg%3E");
}

.material-symbols--search-rounded {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23a7a7a7' d='M9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l5.6 5.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-5.6-5.6q-.75.6-1.725.95T9.5 16m0-2q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14'/%3E%3C/svg%3E");
}

/* --- Base Layout --- */
body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--patient-bg);
    color: var(--text-dark);
    margin: 0;
    padding: var(--page-padding);
    box-sizing: border-box;
    min-height: 100vh;
}

.main-container {
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    height: calc(100vh - (var(--page-padding) * 2));
}

.content-wrapper {
    background-color: var(--patient-content-bg);
    flex-grow: 1;
    border-radius: var(--border-radius-main);
    padding: var(--content-padding);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    position: relative;
    z-index: 3;
    margin-top: -2px;
    display: flex;
    flex-direction: column;
    overflow: auto;
}

/* --- Tab Navigation --- */
.tab-header {
    display: flex;
    align-items: flex-end;
    position: relative;
    flex-shrink: 0;
}

.tab-button-wrapper {
    display: flex;
    flex-grow: 1;
    align-items: flex-end;
}

.tab-button {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 14px 24px;
    font-size: 1rem;
    font-weight: 600;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    background-color: var(--patient-tab-inactive-bg);
    color: var(--patient-tab-inactive-text);
    border-radius: var(--border-radius-tabs) var(--border-radius-tabs) 0 0;
    margin-right: 8px;
    margin-bottom: -16px;
    padding-bottom: 32px;
    opacity: 0.8;
    position: relative;
    z-index: 2;
    white-space: nowrap;
}

.tab-button:hover {
    background-color: #c9e0cb;
    opacity: 1;
}

.tab-button.active {
    background-color: var(--patient-tab-active-bg);
    color: var(--patient-tab-active-text);
    opacity: 1;
    z-index: 4;
}

.logout-button {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-left: auto;
    background: none;
    border: none;
    cursor: pointer;
    padding: 14px 10px;
    opacity: 0.8;
    transition: opacity 0.3s ease;
    flex-shrink: 0;
}

.logout-button:hover {
    opacity: 1;
}

/* --- Page Title --- */
.page-title {
    margin-bottom: 20px;
    flex-shrink: 0;
}

.page-title h1 {
    font-size: 2rem;
    color: var(--text-dark);
    margin: 0;
}

/* --- Controls Bar --- */
.controls-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 20px;
    margin-bottom: 20px;
    border-bottom: 2px solid var(--table-border);
    flex-shrink: 0;
}

.controls-left {
    display: flex;
    flex-grow: 0;
    min-width: 0;
}

.search-bar {
    display: flex;
    align-items: center;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: var(--border-radius-controls);
    padding: 0 10px;
}

.search-bar span {
    margin-right: 8px;
    display: flex;
    align-items: center;
}

.search-bar input {
    border: none;
    outline: none;
    width: 300px;
    padding: 10px 5px;
    font-size: 14px;
    font-family: 'Poppins', sans-serif;
    color: var(--text-dark);
    background: transparent;
}

.controls-right {
    flex-shrink: 0;
}

/* --- Table Styles --- */
.table-container {
    flex-grow: 1;
    overflow-y: auto;
    position: relative;
    min-height: 0;
}

.prescription-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
}

.prescription-table th,
.prescription-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--table-border);
}

.prescription-table th {
    background-color: var(--table-header-bg);
    font-weight: 600;
    color: var(--table-header-text);
    position: sticky;
    top: 0;
    z-index: 5;
    white-space: nowrap;
}

.prescription-table th:hover {
    background-color: #f2f0eb;
}

.prescription-table tbody tr:hover {
    background-color: var(--table-hover);
}

.prescription-table td {
    color: var(--text-dark);
}

/* Allow instructions to wrap */
.prescription-table .instructions-cell {
    white-space: normal;
    max-width: 250px;
    word-wrap: break-word;
}

/* --- Empty State --- */
.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--text-light);
}

.empty-state p {
    margin: 0;
    font-size: 1rem;
}

/* --- Sorting Icons --- */
.prescription-table th[data-sort-key] {
    cursor: pointer;
    user-select: none;
}

.prescription-table th[data-sort-key] .sort-icon {
    opacity: 0.4;
    display: inline-block;
    width: 12px;
    height: 12px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='%2306402B' d='M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41m255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 100% 100%;
    margin-left: 4px;
    font-size: 0;
}

.prescription-table th[data-sort-key]:hover .sort-icon {
    opacity: 0.7;
}

.prescription-table th[data-sort-key].sort-asc .sort-icon {
    opacity: 1;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='%2306402B' d='M296 224H24c-15.1 0-22.6 18.1-11.8 28.5l112 115.5c6.4 6.6 17.2 6.6 23.6 0l112-115.5C318.6 242.1 311.1 224 296 224'/%3E%3C/svg%3E");
}

.prescription-table th[data-sort-key].sort-desc .sort-icon {
    opacity: 1;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='%2306402B' d='M24 288h272c15.1 0 22.6 18.1-11.8-28.5l-112-115.5c-6.4-6.6-17.2-6.6-23.6 0L12.2 259.5C1.4 269.9 8.9 288 24 288'/%3E%3C/svg%3E");
}

/* --- Responsive Design --- */
@media (max-width: 950px) {
    .tab-button span:nth-child(2) {
        display: none;
    }

    .tab-button-wrapper {
        flex-grow: 1;
        min-width: 0;
    }

    .tab-button {
        flex: 1 1 0;
        justify-content: center;
        padding-left: 10px;
        padding-right: 10px;
        gap: 0;
    }

    .tab-button span:first-child {
        margin-right: 0;
    }

    .controls-left {
        flex-grow: 1;
        min-width: 0;
    }

    .search-bar {
        width: 100%;
    }

    .search-bar input {
        width: 100%;
    }

    .page-title h1 {
        font-size: 1.5rem;
    }
}

@media (max-width: 768px) {
    .prescription-table {
        font-size: 12px;
    }

    .prescription-table th,
    .prescription-table td {
        padding: 8px 10px;
    }
}